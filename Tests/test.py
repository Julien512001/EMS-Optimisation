import numpy as np
import matplotlib.pyplot as plt

L = 0.67

x = np.array([
   -0.643, -0.589, -0.535, -0.481, -0.427, -0.373, -0.319, -0.265,
   -0.211, -0.157, -0.1295, -0.1285, -0.1275, -0.1265, -0.1255, -0.1245,
   -0.1235, -0.1225, -0.1215, -0.1205, -0.1188, -0.1164, -0.114, -0.1116,
   -0.1092, -0.1068, -0.1044, -0.102, -0.0996, -0.0972, -0.0948, -0.0924,
   -0.09, -0.0876, -0.0852, -0.0828, -0.0804, -0.078, -0.0756, -0.0732,
   -0.07128, -0.06984, -0.0684, -0.06696, -0.06552, -0.06408, -0.06264, -0.0612,
   -0.05976, -0.05832, -0.05688, -0.05544, -0.054, -0.05256, -0.05112, -0.04968,
   -0.04824, -0.0468, -0.04536, -0.04392, -0.04248, -0.04104, -0.0396, -0.03816,
   -0.03672, -0.03528, -0.03384, -0.0324, -0.03096, -0.02952, -0.02808, -0.02664,
   -0.0252, -0.02376, -0.02232, -0.02088, -0.01944, -0.018, -0.01656, -0.01512,
   -0.01368, -0.01224, -0.0108, -0.00936, -0.00792, -0.00648, -0.00504, -0.0036,
   -0.00216, -0.00072, 0.00072, 0.00216, 0.0036, 0.00504, 0.00648, 0.00792,
   0.00936, 0.0108, 0.01224, 0.01368, 0.01512, 0.01656, 0.018, 0.01944,
   0.02088, 0.02232, 0.02376, 0.0252, 0.02664, 0.02808, 0.02952, 0.03096,
   0.0324, 0.03384, 0.03528, 0.03672, 0.03816, 0.0396, 0.04104, 0.04248,
   0.04392, 0.04536, 0.0468, 0.04824, 0.04968, 0.05112, 0.05256, 0.054,
   0.05544, 0.05688, 0.05832, 0.05976, 0.0612, 0.06264, 0.06408, 0.06552,
   0.06696, 0.0684, 0.06984, 0.07128, 0.0732, 0.0756, 0.078, 0.0804,
   0.0828, 0.0852, 0.0876, 0.09, 0.0924, 0.0948, 0.0972, 0.0996,
   0.102, 0.1044, 0.1068, 0.1092, 0.1116, 0.114, 0.1164, 0.1188,
   0.1205, 0.1215, 0.1225, 0.1235, 0.1245, 0.1255, 0.1265, 0.1275,
   0.1285, 0.1295, 0.157, 0.211, 0.265, 0.319, 0.373, 0.427,
   0.481, 0.535, 0.589, 0.643
])


x = x[::10]
print(x)

plt.figure()
plt.scatter(x,x)
plt.grid()


plt.show()

# 1. Calcul des bords (faces) de chaque cellule
x_faces = np.zeros(len(x) + 1)
x_faces[1:-1] = 0.5 * (x[1:] + x[:-1])

# 2. Pour les deux extrémités (gauche et droite), on extrapole :
x_faces[0] = x[0] - 0.5 * (x[1] - x[0])
x_faces[-1] = x[-1] + 0.5 * (x[-1] - x[-2])

# 3. Largeur des cellules (dx) : différence entre faces successives
dx = np.diff(x_faces)

# Affichage
for i in range(len(x)):
    print(f"x = {x[i]:.2f}, dx = {dx[i]:.2f}")
